<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elecciones Estudiantiles</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      width: 80%;
      max-width: 800px;
      margin: 20px;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
    }
    .section {
      margin-bottom: 20px;
    }
    .candidate-info {
      margin-bottom: 10px;
    }
    .vote-count, .progress-bar {
      margin: 5px 0;
    }
    .footer {
      text-align: center;
      font-size: 0.9em;
      margin-top: 20px;
      color: #777;
    }
    .emoji {
      position: absolute;
      font-size: 24px;
      pointer-events: none;
    }
    .results {
      padding: 10px;
      background-color: #e8f5e9;
      border-radius: 10px;
      margin-top: 20px;
    }
    .results .section {
      padding: 10px;
      border: 1px solid #dce775;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    .results .progress-bar {
      height: 20px;
      background-color: #c8e6c9;
      border-radius: 10px;
      position: relative;
    }
    .results .progress {
      background-color: #66bb6a;
      height: 100%;
      border-radius: 10px;
      text-align: center;
      color: white;
      line-height: 20px;
    }
    .admin-button {
      cursor: pointer;
      color: white;
      background-color: #ff5722;
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      width: 100px;
      margin: 0 auto;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Elecciones Estudiantiles 2024</h1>

  <div class="section candidate" id="candidato1">
    <div class="candidate-info">
      <h2>Candidato 1: Juan "Innovaci贸n tecnol贸gica"</h2>
      <p>Propuestas: Crear un laboratorio de tecnolog铆a avanzado, realizar talleres sobre rob贸tica y programaci贸n, fomentar el uso de herramientas digitales en todas las asignaturas, crear un sistema de ayuda en l铆nea 24/7 para estudiantes.</p>
      <button class="vote-button" onclick="votar(0)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <div class="section candidate" id="candidato2">
    <div class="candidate-info">
      <h2>Candidato 2: Mar铆a "Escuela pac铆fica"</h2>
      <p>Propuestas: Talleres de mediaci贸n escolar, formaci贸n de una brigada ecol贸gica estudiantil, acuerdos para convivencia saludable, proyectos de ayuda mutua, eventos para fomentar la inclusi贸n, actividades que apoyen a estudiantes en situaciones dif铆ciles.</p>
      <button class="vote-button" onclick="votar(1)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <div class="section candidate" id="candidato3">
    <div class="candidate-info">
      <h2>Candidato 3: Pedro "Transformaci贸n digital"</h2>
      <p>Propuestas: Introducir una plataforma para gestionar actividades escolares, reducir el uso de papel en la escuela, establecer un canal de comunicaci贸n directo con los alumnos, organizar seminarios sobre el uso de redes sociales de manera segura, y apoyar a alumnos en la creaci贸n de contenidos digitales educativos.</p>
      <button class="vote-button" onclick="votar(2)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <!-- Resultados -->
  <div id="results" class="results">
    <h2>Resultados:</h2>
    <div id="resultado-candidato1" class="section">
      <h3>Juan "Innovaci贸n tecnol贸gica"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
    <div id="resultado-candidato2" class="section">
      <h3>Mar铆a "Escuela pac铆fica"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
    <div id="resultado-candidato3" class="section">
      <h3>Pedro "Transformaci贸n digital"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <!-- Bot贸n de administraci贸n -->
  <div class="admin-button" onclick="mostrarResultados()">Admin</div>

  <div class="footer">
    <p>Cr茅ditos: Desarrollado por [TG (Top Globales]</p>
  </div>
</div>

<script>
  let votos = [0, 0, 0]; // Votos de los candidatos

  // Funci贸n para votar por un candidato
  function votar(candidato) {
    votos[candidato]++;
    document.querySelectorAll('.vote-count')[candidato].textContent = "Votos: " + votos[candidato];
    actualizarResultados();
  }

  // Funci贸n para mostrar los resultados
  function mostrarResultados() {
    document.getElementById("results").style.display = "block";
  }

  // Funci贸n para actualizar los resultados en la secci贸n de resultados
  function actualizarResultados() {
    let totalVotos = votos.reduce((a, b) => a + b, 0);
    votos.forEach((voto, i) => {
      let porcentaje = (voto / totalVotos) * 100 || 0;
      document.querySelectorAll('.progress')[i].style.width = porcentaje + "%";
      document.querySelectorAll('.progress')[i].textContent = porcentaje.toFixed(2) + "%";
      document.querySelectorAll('.vote-count')[i + 3].textContent = "Votos: " + voto;
    });
  }

document.addEventListener("click", function (e) {
  // Array de emojis divertidos para mostrar al hacer click
  const emojis = ["", "", "", "コ", "", ""];
  
  // Elegir un emoji aleatorio del array
  const emoji = emojis[Math.floor(Math.random() * emojis.length)];
  
  // Crear un elemento de span para contener el emoji
  const emojiElement = document.createElement("span");
  emojiElement.innerHTML = emoji;
  emojiElement.style.position = "absolute";
  emojiElement.style.left = (e.pageX + 10) + "px"; // Ajuste la posici贸n fuera de la zona de clic
  emojiElement.style.top = (e.pageY + 10) + "px";  // Ajuste la posici贸n fuera de la zona de clic
  emojiElement.style.fontSize = "24px"; // Tama帽o del emoji

  // Evitar que los emojis aparezcan dentro de los cuadros de votaciones
  const votingBoxes = document.querySelectorAll('.voting-box');
  let insideBox = false;
  
  votingBoxes.forEach(box => {
    const rect = box.getBoundingClientRect();
    if (e.clientX >= rect.left && e.clientX <= rect.right &&
        e.clientY >= rect.top && e.clientY <= rect.bottom) {
      insideBox = true;
    }
  });

  if (!insideBox) {
    // Solo agregar el emoji si el clic est谩 fuera de los recuadros
    document.body.appendChild(emojiElement);

    // Eliminar el emoji despu茅s de 2 segundos
    setTimeout(() => {
      emojiElement.remove();
    }, 2000);
  }
});
</script>

</body>
</html>
