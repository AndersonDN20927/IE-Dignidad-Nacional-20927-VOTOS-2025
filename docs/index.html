<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elecciones Escolares 2025</title>
    <style>
        /* Agrega aqu칤 tu CSS para estilizar la p치gina */
    </style>
</head>
<body>
    <!-- Zona de inicio -->
    <div id="inicio">
        <h2>Elecciones Escolares 2025</h2>
        <form id="formulario">
            <label for="dni">DNI (8 d칤gitos):</label>
            <input type="text" id="dni" maxlength="8" required>
            <br>
            <label for="nombre">Nombre completo:</label>
            <input type="text" id="nombre" required>
            <br>
            <label for="fecha">Fecha de nacimiento:</label>
            <input type="date" id="fecha" required>
            <br>
            <label for="grado">Grado y secci칩n:</label>
            <select id="grado" required>
                <option value="">Seleccione...</option>
                <option value="1">1ro</option>
                <option value="2">2do</option>
                <option value="3">3ro</option>
                <!-- Agrega m치s grados seg칰n sea necesario -->
            </select>
            <br>
            <button type="button" onclick="continuar()">Continuar</button>
        </form>
    </div>

    <!-- Zona de candidatos -->
    <div id="candidatos" style="display:none;">
        <h3>Candidatos</h3>
        <div id="candidato1" onclick="mostrarPerfil('candidato1')">
            <h4>Sof칤a Quispe</h4>
            <img id="img-candidato1" src="https://github.com/user-attachments/assets/cde274e5-6b93-4b89-a94d-f097ae888a6c" alt="Sofia Quispe" width="100">
        </div>
        <div id="candidato2" onclick="mostrarPerfil('candidato2')">
            <h4>Laura Fern치ndez</h4>
            <img id="img-candidato2" src="https://github.com/user-attachments/assets/1dbc76dc-927a-4b33-b684-bced232ef2eb" alt="Laura Fern치ndez" width="100">
        </div>
        <div id="candidato3" onclick="mostrarPerfil('candidato3')">
            <h4>Carlos Ram칤rez</h4>
            <img id="img-candidato3" src="https://github.com/user-attachments/assets/f9d88fb6-b1d6-46bd-a048-ce9d4a295f1a" alt="Carlos Ram칤rez" width="100">
        </div>
    </div>

    <!-- Perfil del candidato -->
    <div id="perfil" style="display:none;">
        <h3 id="nombre-candidato"></h3>
        <img id="profile-img" src="" alt="Imagen del candidato" width="150">
        <ul id="lista-propuestas"></ul>
        <button onclick="votar()">Votar</button>
        <button onclick="volverALista()">Volver</button>
    </div>

    <!-- Mensaje de agradecimiento -->
    <div id="mensaje-voto" style="display:none;">
        <h2>춰Gracias por tu voto! 游꿀</h2>
    </div>

    <!-- Panel de administraci칩n -->
    <div id="admin-panel" style="display:none;">
        <h3>Panel de administraci칩n</h3>
        <button onclick="mostrarResultados()">Mostrar resultados</button>
        <div id="resultado"></div>
    </div>

    <script>
        const candidatos = {
            candidato1: {
                nombre: "Sof칤a Quispe",
                propuestas: [
                    "Mejorar la infraestructura",
                    "Becas para todos los estudiantes",
                    "Aumentar el acceso a la tecnolog칤a",
                    "Crear un sistema de reciclaje",
                    "Promover la participaci칩n estudiantil",
                    "Desarrollar m치s actividades extracurriculares"
                ],
                votos: 0
            },
            candidato2: {
                nombre: "Laura Fern치ndez",
                propuestas: [
                    "Mejorar las instalaciones deportivas",
                    "Becas para todos los estudiantes",
                    "Establecer programas de voluntariado",
                    "Crear m치s espacios de recreaci칩n",
                    "Fomentar el trabajo en equipo",
                    "Optimizar el uso de los recursos"
                ],
                votos: 0
            },
            candidato3: {
                nombre: "Carlos Ram칤rez",
                propuestas: [
                    "Aumentar la calidad de la educaci칩n",
                    "Crear becas para los estudiantes m치s destacados",
                    "Promover el respeto y la convivencia",
                    "Crear un programa de salud estudiantil",
                    "Incentivar el reciclaje en el colegio",
                    "Establecer actividades que fomenten la inclusi칩n"
                ],
                votos: 0
            }
        };

        const votantes = new Set(JSON.parse(localStorage.getItem("votantes")) || []); // Recuperar los votantes previos

        function continuar() {
            const dni = document.getElementById("dni").value;
            const nombre = document.getElementById("nombre").value;
            const fecha = document.getElementById("fecha").value;
            const grado = document.getElementById("grado").value;

            if (!dni || !nombre || !fecha || !grado) {
                alert("Por favor, complete todos los campos.");
                return;
            }

            localStorage.setItem("usuario", JSON.stringify({ dni, nombre, fecha, grado }));
            mostrarCandidatos();
        }

        function mostrarCandidatos() {
            document.getElementById("inicio").style.display = "none";
            document.getElementById("candidatos").style.display = "block";
        }

        function mostrarPerfil(candidato) {
            const candidatoData = candidatos[candidato];
            document.getElementById("perfil").style.display = "block";
            document.getElementById("candidatos").style.display = "none";
            document.getElementById("nombre-candidato").textContent = candidatoData.nombre;
            document.getElementById("profile-img").src = `https://github.com/user-attachments/assets/${candidato === 'candidato1' ? 'cde274e5-6b93-4b89-a94d-f097ae888a6c' : candidato === 'candidato2' ? '1dbc76dc-927a-4b33-b684-bced232ef2eb' : 'f9d88fb6-b1d6-46bd-a048-ce9d4a295f1a'}`;
            document.getElementById("lista-propuestas").innerHTML = candidatoData.propuestas.map(propuesta => `<li>${propuesta}</li>`).join('');
        }

        function votar() {
            const dni = document.getElementById("dni").value;

            if (votantes.has(dni)) {
                alert("Este DNI ya ha votado.");
                return;
            }

            const candidato = document.getElementById("nombre-candidato").textContent;
            votantes.add(dni);

            // Incrementar votos del candidato
            candidatos[`candidato${candidato === 'Sof칤a Quispe' ? 1 : candidato === 'Laura Fern치ndez' ? 2 : 3}`].votos++;

            // Guardar votos y lista de votantes en localStorage
            localStorage.setItem("votantes", JSON.stringify(Array.from(votantes)));
            localStorage.setItem("candidatos", JSON.stringify(candidatos));

            document.getElementById("mensaje-voto").style.display = "block";

            setTimeout(() => {
                document.getElementById("mensaje-voto").style.display = "none";
                mostrarCandidatos();
            }, 2000);
        }

        function volverALista() {
            document.getElementById("perfil").style.display = "none";
            document.getElementById("candidatos").style.display = "block";
        }

        function mostrarAdmin() {
            const password = prompt("Ingrese la contrase침a");
            if (password === "dignidad2025") {
                document.getElementById("admin-panel").style.display = "block";
            } else {
                alert("Contrase침a incorrecta.");
            }
        }

        function mostrarResultados() {
            const storedCandidatos = JSON.parse(localStorage.getItem("candidatos"));
            document.getElementById("resultado").innerHTML = `
                <ul>
                    ${Object.values(storedCandidatos).map(candidato => `
                        <li>${candidato.nombre}: ${candidato.votos} votos</li>
                    `).join('')}
                </ul>
            `;
        }

        // Iniciar el panel de administraci칩n
        mostrarAdmin();
    </script>
</body>
</html>
