<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elecciones Estudiantiles</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      width: 80%;
      max-width: 800px;
      margin: 20px;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
    }
    .section {
      margin-bottom: 20px;
    }
    .candidate-info {
      margin-bottom: 10px;
    }
    .vote-count, .progress-bar {
      margin: 5px 0;
    }
    .footer {
      text-align: center;
      font-size: 0.9em;
      margin-top: 20px;
      color: #777;
    }
    .emoji {
      position: absolute;
      font-size: 24px;
      pointer-events: none;
    }
    .results {
      padding: 10px;
      background-color: #e8f5e9;
      border-radius: 10px;
      margin-top: 20px;
    }
    .results .section {
      padding: 10px;
      border: 1px solid #dce775;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    .results .progress-bar {
      height: 20px;
      background-color: #c8e6c9;
      border-radius: 10px;
      position: relative;
    }
    .results .progress {
      background-color: #66bb6a;
      height: 100%;
      border-radius: 10px;
      text-align: center;
      color: white;
      line-height: 20px;
    }
    .admin-button {
      cursor: pointer;
      color: white;
      background-color: #ff5722;
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      width: 100px;
      margin: 0 auto;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Elecciones Estudiantiles 2024</h1>

  <div class="section candidate" id="candidato1">
    <div class="candidate-info">
      <h2>Candidato 1: Juan "Innovación tecnológica"</h2>
      <p>Propuestas: Crear un laboratorio de tecnología avanzado, realizar talleres sobre robótica y programación, fomentar el uso de herramientas digitales en todas las asignaturas, crear un sistema de ayuda en línea 24/7 para estudiantes.</p>
      <button class="vote-button" onclick="votar(0)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <div class="section candidate" id="candidato2">
    <div class="candidate-info">
      <h2>Candidato 2: María "Escuela pacífica"</h2>
      <p>Propuestas: Talleres de mediación escolar, formación de una brigada ecológica estudiantil, acuerdos para convivencia saludable, proyectos de ayuda mutua, eventos para fomentar la inclusión, actividades que apoyen a estudiantes en situaciones difíciles.</p>
      <button class="vote-button" onclick="votar(1)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <div class="section candidate" id="candidato3">
    <div class="candidate-info">
      <h2>Candidato 3: Pedro "Transformación digital"</h2>
      <p>Propuestas: Introducir una plataforma para gestionar actividades escolares, reducir el uso de papel en la escuela, establecer un canal de comunicación directo con los alumnos, organizar seminarios sobre el uso de redes sociales de manera segura, y apoyar a alumnos en la creación de contenidos digitales educativos.</p>
      <button class="vote-button" onclick="votar(2)">Votar</button>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <!-- Resultados -->
  <div id="results" class="results">
    <h2>Resultados:</h2>
    <div id="resultado-candidato1" class="section">
      <h3>Juan "Innovación tecnológica"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
    <div id="resultado-candidato2" class="section">
      <h3>María "Escuela pacífica"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
    <div id="resultado-candidato3" class="section">
      <h3>Pedro "Transformación digital"</h3>
      <div class="progress-bar">
        <div class="progress" style="width: 0;">0%</div>
      </div>
      <div class="vote-count">Votos: 0</div>
    </div>
  </div>

  <!-- Botón de administración -->
  <div class="admin-button" onclick="mostrarResultados()">Admin</div>

  <div class="footer">
    <p>Créditos: Desarrollado por [Tu Nombre]</p>
  </div>
</div>

<script>
  let votos = [0, 0, 0]; // Votos de los candidatos

  // Función para votar por un candidato
  function votar(candidato) {
    votos[candidato]++;
    document.querySelectorAll('.vote-count')[candidato].textContent = "Votos: " + votos[candidato];
    actualizarResultados();
  }

  // Función para mostrar los resultados
  function mostrarResultados() {
    document.getElementById("results").style.display = "block";
  }

  // Función para actualizar los resultados en la sección de resultados
  function actualizarResultados() {
    let totalVotos = votos.reduce((a, b) => a + b, 0);
    votos.forEach((voto, i) => {
      let porcentaje = (voto / totalVotos) * 100 || 0;
      document.querySelectorAll('.progress')[i].style.width = porcentaje + "%";
      document.querySelectorAll('.progress')[i].textContent = porcentaje.toFixed(2) + "%";
      document.querySelectorAll('.vote-count')[i + 3].textContent = "Votos: " + voto;
    });
  }

  // Emojis aleatorios para aparecer en el clic
  const emojis = ['🎉', '🥳', '🎈', '🎊', '💥', '🎆'];

  document.addEventListener("click", function(e) {
    if (!e.target.classList.contains("vote-button")) {
      let emojiElement = document.createElement("div");
      emojiElement.classList.add("emoji");
      emojiElement.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      document.body.appendChild(emojiElement);
      emojiElement.style.left = e.pageX + "px";
      emojiElement.style.top = e.pageY + "px";

      // Eliminar el emoji después de 1.5 segundos
      setTimeout(function() {
        emojiElement.remove();
      }, 1500);
    }
  });
</script>

</body>
</html>
